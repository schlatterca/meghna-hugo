{{ define "main" }}

{{ partial "navigation.html" . }}

{{/* - partial "footer.html" . -*/}}

<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2 text-center">
        <p id="this_article_type"><a href="..\"{{ .Type }}>{{ .Type }}</a></p>
        <h1 id="this_article_title">{{ .Title }}</h1>
        <p id="this_article_author">by {{ .Params.author }}</p>
        
      </div>

      <div class="synopsis_box">
        <p class="synopsis">{{ .Description }}</p>
        <div class="open_synopsis_box">+</div>
      </div>

      <div class="col-lg-8 offset-lg-2">
        <div class="post-single-content articleContent">
          {{ .Content }}
        </div>
        <!--div class="mt-5"-->
          {{/* .Date */}} <!--JUST TO TRY THE COMMENT-->
        <!--/div-->
      </div>
    </div>
  </div>
</section>

<footer>
  <div id="footer" class="foot1" onmouseover="toggleFooter(this)" onmouseout="toggleFooter(this)">
    <p class="footer_title footitle1">Barberini Harp Project</p>
    <div class="footer_insidebox">
      <p class="footer_insidetext">{{ .Params.barberiniharpproject }}</p>
    </div>
  </div>
  <div id="footer" class="foot2" onmouseover="toggleFooter(this)" onmouseout="toggleFooter(this)">
    <p class="footer_title footitle2">Related Research</p>
    <div class="footer_insidebox">
      <!--p class="footer_insidetext">Related Research here</p-->
    </div>
  </div>
  <div id="footer" class="foot3" onmouseover="toggleFooter(this)" onmouseout="toggleFooter(this)">
    <p class="footer_title footitle3">External Links</p>
    <div class="footer_insidebox">
      <p class="footer_insidetext">{{ .Params.externallinks }}</p>
    </div>
  </div>
  <div id="footer" class="foot4" onmouseover="toggleFooter(this)" onmouseout="toggleFooter(this)">
    <p class="footer_title footitle4">Tags</p>
    <div class="footer_insidebox">
      <p class="footer_insidetext">{{ .Params.tags }}</p>
    </div>
  </div>
  <div id="footer" class="foot5" onmouseover="toggleFooter(this)" onmouseout="toggleFooter(this)">
    <p class="footer_title footitle5">Downloads</p>
    <div class="footer_insidebox">
      <p class="footer_insidetext">{{ .Params.downloads }}</p>
    </div>
  </div>
</footer>

<script>
  var persontags_list = {{ .Params.person_tag }};
  var paragraphs = document.getElementsByClassName("articleContent")[0].childNodes;

  for (let i = 0; i < persontags_list.length; i++) {
    for(var j = 0; j < paragraphs.length; j++) {
      if ((typeof paragraphs[j].innerHTML !== 'undefined') && (paragraphs[j].innerHTML.includes(persontags_list[i]))){
        //console.log(paragraphs[j].innerHTML, persontags_list[i]);
        paragraphs[j].innerHTML.replace(persontags_list[i], "coso");
      }
    }
  }

</script>

{{ end }}
